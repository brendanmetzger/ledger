<fieldset id="project" class="notes" data-url="[$url]">
  <legend>[$index Project]</legend>
  <h3 class="centered percentage ruled bottom top">[$project:percentage]</h3>
  <section class="sliders">
    <!-- iterate project:inputs -->
    <label class="container">
      <h5>[$key]</h5>
      <input type="range" name="project[@][axes][]" min="0" max="0.1" step="0.01" value="[$value]" style="width:100%"/>
    </label>
  </section>
  <label for="notes">Notes</label>
  <textarea name="project[CDATA]" cols="30" rows="20" id="notes" style="font-size:1.25em;height:50vh;width:calc(100% + 2em);margin:0em -1em;padding:1em;">[$project]</textarea>
  <script type="text/javascript">
    // <![CDATA[
    bloc.embed('/javascript/iam.js');
    document.querySelector('#project').addEventListener('change', function (evt) {
      var score = [].map.call(this.querySelectorAll('input[type="range"]'), function(node) {
        return parseFloat(node.value, 10);
      }).reduce(function (accumulator, current) {
        return accumulator + current;
      }, 0);
      this.querySelector('.percentage').textContent = Math.max(0, Math.round(score * 100));
    });
    // ]]>
  </script>
</fieldset>
